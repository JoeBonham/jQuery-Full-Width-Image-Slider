(function(a){a.fn.fullWidth=function(b){var c=a.extend({maxHeight:450,minHeight:375,delay:5000,transition:1000,maxFont:36,minFont:24},b);return this.each(function(){var l=a(this),q=l.find(".inner"),e=q.find(".slide"),m=e.find("img"),d=l.find(".slide-nav"),p=l.find(".controls a"),h="",k={current:0,max:e.length-1},j={slides:"",resize:""};var i=function(s,r){if(q.is(":animated")){return}n();if(s==="right"){k.current=k.current+1>k.max?0:k.current+1}else{if(s==="left"){k.current=k.current-1<0?k.max:k.current-1}else{if(s==="direct"){k.current=r||"0"}}}h.removeClass("current").eq(k.current).addClass("current");q.animate({"margin-left":"-"+100*k.current+"%"},c.transition,function(){f()})};var f=function(){j.slides=setTimeout(function(){i("right")},c.delay)};var n=function(){clearTimeout(j.slides)};var g=function(){q.css("height",function(){var r=parseInt(a(window).width()/3,10);return r>c.maxHeight?c.maxHeight:r<c.minHeight?c.minHeight:r});m.css("margin-top",function(){var s=q.height(),r=a(this).height();return"-"+(s>r?s-r:r-s)/2+"px"});e.find("div").css("font-size",function(){var r=a(window).width()/41;r=r>c.maxFont?c.maxFont:r;r=r<c.minFont?c.minFont:r;r=a(window).width()<480?20:r;return r}).css("top",function(){var r=q.height()-a(this).height();return a(window).width()<=480?r:r/2})};var o=function(){a(window).resize(function(){clearTimeout(j.resize);j.resize=setTimeout(function(){g()},100)}).trigger("resize");p.on("click",function(r){r.preventDefault();i(this.className)});l.on("mouseenter mouseleave",function(r){if(p.is(":animated")){return}r.type==="mouseenter"?p.fadeIn():p.fadeOut()});h.on("click",function(){i("direct",a(this).index())});a(document).on("keydown",function(s){if(!(s.which===37||s.which===39)){return}var r=s.which===37?"left":"right";i(r)})};(function(){e.each(function(r){a(this).addClass("slide-"+(r+1))});q.css("width",(e.length*100)+"%");e.css("width",parseInt(100/e.length,10)+"%").each(function(){d.append("<span>&bull;</span>")});h=d.find("span");h.first().addClass("current");d.css("width",function(){return h.length*26});a(window).load(function(){o();q.fadeTo(1000,1,function(){f()})})}())})}}(jQuery));