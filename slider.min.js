(function(b){b.fn.fullWidth=function(n){var d=b.extend({maxHeight:450,minHeight:375,delay:5E3,transition:1E3,maxFont:36,minFont:24},n);return this.each(function(){var h=b(this),e=h.find(".inner"),f=e.find(".slide"),r=f.find("img"),p=h.find(".slide-nav"),k=h.find(".controls a"),g="",l=9999,a=0,s=f.length-1,t="",u="",m=function(c,b){e.is(":animated")||(clearTimeout(t),a="right"===c?a+1>s?0:a+1:"left"===c?0>a-1?s:a-1:b||"0",g.removeClass("current").eq(a).addClass("current"),e.animate({"margin-left":"-"+
100*a+"%"},d.transition,function(){v()}))},v=function(){t=setTimeout(function(){m("right")},d.delay)},n=function(){var c=b(window).width();e.css("height",function(){var q=parseInt(c/3,10);return q>d.maxHeight?d.maxHeight:q<d.minHeight?d.minHeight:q});var a=c<=l?["100%","auto","9999"]:["","",""];r.css("margin-top",function(){var c=e.height(),a=b(this).height();return"-"+(c>a?0:a-c)/2+"px"}).css({height:a[0],width:a[1],maxWidth:a[2]});a=480>=c?["0","100%","none"]:["","",""];f.find("div").css({"font-size":function(){var a=
c/41,a=a>d.maxFont?d.maxFont:a,a=a<d.minFont?d.minFont:a;return 480>c?20:a},top:function(){var a=e.height()-b(this).height();return 480>=c?a:a/2},padding:a[0],width:a[1]}).find("br").css("display",a[2])},w=function(){b(window).resize(function(){clearTimeout(u);u=setTimeout(function(){n()},100)}).trigger("resize");k.on("click",function(){m(this.className);return!1});h.on("mouseenter mouseleave",function(a){k.is(":animated")||("mouseenter"===a.type?k.fadeIn():k.fadeOut())});g.on("click",function(){m("direct",
b(this).index())});b(document).on("keydown",function(a){37!==a.which&&39!==a.which||m(37===a.which?"left":"right")})};(function(){e.css("height",d.minHeight);r.each(function(){var a=b(this).attr("width");l=a<l?a:l});f.each(function(a){b(this).addClass("slide-"+(a+1))});e.css("width",100*f.length+"%");f.css("width",parseInt(100/f.length,10)+"%").each(function(){p.append("<span>&bull;</span>")});g=p.find("span");g.first().addClass("current");p.css("width",function(){return 26*g.length});b(window).load(function(){w();
e.fadeTo(1E3,1,function(){v()})})})()})}})(jQuery);