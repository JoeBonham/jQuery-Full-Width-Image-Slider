(function(a){a.fn.fullWidth=function(b){var d={maxHeight:450,minHeight:375,delay:5000,transition:1000,maxFont:36,minFont:20},c=a.extend(d,b);var e=(function(){var f=document.createElement("p").style,g=["Webkit","Moz","O","ms","Khtml"];if(f.transition==""){return true}while(g.length){if(g.pop()+"Transition" in f){return true}}return false}());return this.each(function(){var o=a(this),t=o.find(".inner"),g=t.find(".slide"),p=g.find("img"),f=o.find(".slide-nav"),s=o.find(".controls a"),j="",n=9999,m={current:0,previous:0,max:g.length-1},l={slides:"",resize:""},k=function(v,u){if(t.is(":animated")){return}q();m.previous=m.current;if(v==="right"){m.current=m.current+1>m.max?0:m.current+1}else{if(v==="left"){m.current=m.current-1<0?m.max:m.current-1}else{m.current=u||0}}j.removeClass("current").eq(m.current).addClass("current");o.trigger("fws.start",{status:m,direction:v});if(e){t.css({"margin-left":"-"+100*m.current+"%"});setTimeout(function(){h()},c.transition)}else{t.animate({"margin-left":"-"+100*m.current+"%"},c.transition,function(){h()})}},h=function(){o.trigger("fws.finish",{status:m});l.slides=setTimeout(function(){k("right")},c.delay)},q=function(){clearTimeout(l.slides)},i=function(){var x=a(window).width(),u=parseInt(x/3,10),y=x<=n?["100%","auto","9999"]:["","",""],z=t.height(),v=x<=480?["0","100%","none"]:["","",""],w=x/41;w=w>c.maxFont?c.maxFont:(w<c.minFont?c.minFont:w);t.css("height",function(){return u>c.maxHeight?c.maxHeight:(u<c.minHeight?c.minHeight:u)});p.css({"margin-top":function(){var A=a(this).height();return"-"+(z>A?0:A-z)/2+"px"},height:y[0],width:y[1],maxWidth:y[2]});g.find("div").css({"font-size":w,top:function(){var A=z-a(this).height();return x<=480?A:A/2},padding:v[0],width:v[1]}).find("br").css("display",v[2])},r=function(){a(window).resize(function(){clearTimeout(l.resize);l.resize=setTimeout(function(){i()},100)}).trigger("resize");s.on("click",function(){k(this.className);return false});o.on("mouseenter mouseleave",function(u){if(s.is(":animated")){return}u.type==="mouseenter"?s.fadeIn():s.fadeOut()});j.on("click",function(){k("direct",a(this).index())});a(document).on("keydown",function(u){if(!(u.which===37||u.which===39)){return}k(u.which===37?"left":"right")})};(function(){p.each(function(){var u=a(this).attr("width");n=u<n?u:n});g.css("width",parseFloat(100/g.length,10)+"%").each(function(u){a(this).addClass("slide-"+(u+1));f.append("<span>&bull;</span>")}).find("div").wrapInner("<p />");t.css({height:c.minHeight,transition:c.transition+"ms",width:(g.length*100)+"%"});j=f.find("span");j.first().addClass("current");f.css("width",function(){return j.length*26});a(window).load(function(){r();o.trigger("fws.start",{status:m,direction:"direct"});t.fadeTo(1000,1,function(){h()})})}())})}}(jQuery));