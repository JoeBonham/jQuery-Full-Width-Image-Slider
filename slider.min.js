(function(b){b.fn.fullWidth=function(p){var c=b.extend({maxHeight:450,minHeight:375,delay:5E3,transition:1E3,maxFont:36,minFont:20},p);return this.each(function(){var f=b(this),g=f.find(".inner"),k=g.find(".slide"),r=k.find("img"),q=f.find(".slide-nav"),h=f.find(".controls a"),e="",m=9999,d=0,s=k.length-1,t="",u="",n=function(a,b){g.is(":animated")||(clearTimeout(t),d="right"===a?d+1>s?0:d+1:"left"===a?0>d-1?s:d-1:b||"0",e.removeClass("current").eq(d).addClass("current"),g.animate({"margin-left":"-"+
100*d+"%"},c.transition,function(){v()}))},v=function(){t=setTimeout(function(){n("right")},c.delay)},p=function(){var a=b(window).width(),d=parseInt(a/3,10),e=a<=m?["100%","auto","9999"]:["","",""],f=g.height(),h=480>=a?["0","100%","none"]:["","",""],l=a/41,l=l>c.maxFont?c.maxFont:l<c.minFont?c.minFont:l;g.css("height",function(){return d>c.maxHeight?c.maxHeight:d<c.minHeight?c.minHeight:d});r.css({"margin-top":function(){var a=b(this).height();return"-"+(f>a?0:a-f)/2+"px"},height:e[0],width:e[1],
maxWidth:e[2]});k.find("div").css({"font-size":l,top:function(){var c=f-b(this).height();return 480>=a?c:c/2},padding:h[0],width:h[1]}).find("br").css("display",h[2])},w=function(){b(window).resize(function(){clearTimeout(u);u=setTimeout(function(){p()},100)}).trigger("resize");h.on("click",function(){n(this.className);return!1});f.on("mouseenter mouseleave",function(a){h.is(":animated")||("mouseenter"===a.type?h.fadeIn():h.fadeOut())});e.on("click",function(){n("direct",b(this).index())});b(document).on("keydown",
function(a){37!==a.which&&39!==a.which||n(37===a.which?"left":"right")})};(function(){g.css("height",c.minHeight);r.each(function(){var a=b(this).attr("width");m=a<m?a:m});k.each(function(a){b(this).addClass("slide-"+(a+1))});g.css("width",100*k.length+"%");k.css("width",parseInt(100/k.length,10)+"%").each(function(){q.append("<span>&bull;</span>")});e=q.find("span");e.first().addClass("current");q.css("width",function(){return 26*e.length});b(window).load(function(){w();g.fadeTo(1E3,1,function(){v()})})})()})}})(jQuery);