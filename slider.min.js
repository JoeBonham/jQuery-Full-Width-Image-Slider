(function(a){a.fn.fullWidth=function(b){var d={maxHeight:450,minHeight:375,delay:5000,transition:1000,maxFont:36,minFont:20},c=a.extend(d,b);return this.each(function(){var n=a(this),s=n.find(".inner"),f=s.find(".slide"),o=f.find("img"),e=n.find(".slide-nav"),r=n.find(".controls a"),i="",m=9999,l={current:0,max:f.length-1},k={slides:"",resize:""},j=function(u,t){if(s.is(":animated")){return}p();if(u==="right"){l.current=l.current+1>l.max?0:l.current+1}else{if(u==="left"){l.current=l.current-1<0?l.max:l.current-1}else{l.current=t||"0"}}i.removeClass("current").eq(l.current).addClass("current");s.animate({"margin-left":"-"+100*l.current+"%"},c.transition,function(){g()})},g=function(){k.slides=setTimeout(function(){j("right")},c.delay)},p=function(){clearTimeout(k.slides)},h=function(){var w=a(window).width(),t=parseInt(w/3,10),x=w<=m?["100%","auto","9999"]:["","",""],y=s.height(),u=w<=480?["0","100%","none"]:["","",""],v=w/41;v=v>c.maxFont?c.maxFont:(v<c.minFont?c.minFont:v);s.css("height",function(){return t>c.maxHeight?c.maxHeight:(t<c.minHeight?c.minHeight:t)});o.css({"margin-top":function(){var z=a(this).height();return"-"+(y>z?0:z-y)/2+"px"},height:x[0],width:x[1],maxWidth:x[2]});f.find("div").css({"font-size":v,top:function(){var z=y-a(this).height();return w<=480?z:z/2},padding:u[0],width:u[1]}).find("br").css("display",u[2])},q=function(){a(window).resize(function(){clearTimeout(k.resize);k.resize=setTimeout(function(){h()},100)}).trigger("resize");r.on("click",function(){j(this.className);return false});n.on("mouseenter mouseleave",function(t){if(r.is(":animated")){return}t.type==="mouseenter"?r.fadeIn():r.fadeOut()});i.on("click",function(){j("direct",a(this).index())});a(document).on("keydown",function(t){if(!(t.which===37||t.which===39)){return}j(t.which===37?"left":"right")})};(function(){s.css("height",c.minHeight);o.each(function(){var t=a(this).attr("width");m=t<m?t:m});f.each(function(t){a(this).addClass("slide-"+(t+1))});s.css("width",(f.length*100)+"%");f.css("width",parseFloat(100/f.length,10)+"%").each(function(){e.append("<span>&bull;</span>")});i=e.find("span");i.first().addClass("current");e.css("width",function(){return i.length*26});a(window).load(function(){q();s.fadeTo(1000,1,function(){g()})})}())})}}(jQuery));